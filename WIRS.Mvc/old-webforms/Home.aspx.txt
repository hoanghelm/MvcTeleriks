<%@ Page Language="C#" MasterPageFile="~/MasterPage.Master" AutoEventWireup="true" CodeBehind="Home.aspx.cs" Inherits="WIRS.Website.Home" %>
<asp:Content ID="MainContent" ContentPlaceHolderID="Content" runat="server" >

<h1>Welcome <asp:Label ID="lblusername" runat="server" Text=""></asp:Label></h1> 
 
    <div id="div-container">  
     <div class="post">
     <asp:Literal ID="literalInstruction" runat="server" ></asp:Literal> 
      <div >
          <img id="imgprocessworkflow" style="height:350px;" src="images/Home.JPG" alt="Home" />
      </div>
     </div> 
        <%-- <asp:TemplateField HeaderText="Creator Emp No">
                     <ItemTemplate>
                         <asp:Label ID="lblcreatorId" runat="server" Text='<%# Bind("created_by") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncType" />
                 </asp:TemplateField>--%>
    <div class="row">
           
         <asp:Label ID="lblincidentinfo" runat="server" Text="Incident report list:" 
             Font-Bold="True" ></asp:Label>
          <asp:GridView ID="gvIncident" runat="server" CssClass="GridView"  
             AutoGenerateColumns="False" onrowcommand="gvIncident_RowCommand" onitemcommand="gvInvestigation_ItemCommand">
            
             <Columns>
           
                <%-- <asp:TemplateField HeaderText="Creator Emp No">
                     <ItemTemplate>
                         <asp:Label ID="lblcreatorId" runat="server" Text='<%# Bind("created_by") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncType" />
                 </asp:TemplateField>--%>
                                
                 <asp:TemplateField HeaderText="Incident ID">
                     <ItemTemplate>
                         <asp:LinkButton ID="lnkincidentid" runat="server" CommandName="Select" 
                             Text='<%# Eval("incident_id") %>' 
                             CommandArgument='<%# Eval("incident_id") %>'   ></asp:LinkButton>                            
                     </ItemTemplate>                       
                     <ItemStyle CssClass="IncidentID" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Incident Date-Time">
                     <ItemTemplate>
                         <asp:Label ID="lbldatetime" runat="server" Text='<%# Bind("incident_datetime") %>'></asp:Label></ItemTemplate>
                     <ItemStyle CssClass="IncDateTime" />
                     
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="LOB">
                     <ItemTemplate>
                         <asp:Label ID="lblsbu" runat="server" Text='<%# Bind("sbu_name") %>'></asp:Label></ItemTemplate>
                     <ItemStyle CssClass="IncDateTime" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Department">
                     <ItemTemplate>
                         <asp:Label ID="lbldivision" runat="server" Text='<%# Bind("department_name") %>'></asp:Label></ItemTemplate>
                     <ItemStyle CssClass="Division" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Incident Type">
                     <ItemTemplate>
                         <asp:Label ID="lblinctype" runat="server" Text='<%# Bind("incidentdesc") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncType" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Submitted By">
                     <ItemTemplate>
                         <asp:Label ID="lblCreatorName" runat="server" Text='<%# Bind("creator_name") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncType" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Submitted On">
                     <ItemTemplate>
                         <asp:Label ID="lblsubmittedon" runat="server" 
                             Text='<%# Bind("submitted_on") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncDateTime" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Status">
                     <ItemTemplate>
                         <asp:Label ID="lblstatus" runat="server" Text='<%# Bind("statusdesc") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncType" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="StatusCode" Visible="False">
                     <ItemTemplate>
                         <asp:Label ID="lblstatuscode" runat="server" Text='<%# Bind("status") %>'></asp:Label>
                     </ItemTemplate>
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="">
		            <ItemTemplate>
                        <asp:LinkButton ID="lblVIncid" runat="server" Text="Print"
                                CommandArgument='<%#Bind("incident_id") %>' CommandName="Print" title="Click to print view"></asp:LinkButton>
                    </ItemTemplate>
                    <ItemStyle HorizontalAlign="Left" />
		         </asp:TemplateField>
             </Columns>               
             </asp:GridView>
          </div>   
    
     <div class="row">
           
         <asp:Label ID="lblInvestigation" runat="server" Text="Pending incident reports:" 
             Font-Bold="True" ></asp:Label>
          <asp:GridView ID="gvInvestigation" runat="server" CssClass="GridView"  
             AutoGenerateColumns="False" onrowcommand="gvInvestigation_RowCommand" onitemcommand="gvInvestigation_ItemCommand" >            
             <Columns>           
                <%-- <asp:TemplateField HeaderText="Creator Emp No">
                     <ItemTemplate>
                         <asp:Label ID="lblcreatorId" runat="server" Text='<%# Bind("created_by") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncType" />
                 </asp:TemplateField>--%>
                                
                 <asp:TemplateField HeaderText="Incident ID">
                     <ItemTemplate>
                         <asp:LinkButton ID="lnkincidentid" runat="server" CommandName="Select" 
                             Text='<%# Eval("incident_id") %>' 
                             CommandArgument='<%# Eval("incident_id") %>'   ></asp:LinkButton>                            
                     </ItemTemplate>
                     <ItemStyle CssClass="IncidentID" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Incident Date-Time">
                     <ItemTemplate>
                         <asp:Label ID="lbldatetime" runat="server" Text='<%# Bind("incident_datetime") %>'></asp:Label></ItemTemplate>
                     <ItemStyle CssClass="IncDateTime" />
                     
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="LOB">
                     <ItemTemplate>
                         <asp:Label ID="lblsbu" runat="server" Text='<%# Bind("sbu_name") %>'></asp:Label></ItemTemplate>
                     <ItemStyle CssClass="SBU" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Department">
                     <ItemTemplate>
                         <asp:Label ID="lbldivision" runat="server" Text='<%# Bind("department_name") %>'></asp:Label></ItemTemplate>
                     <ItemStyle CssClass="Department" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Incident Type">
                     <ItemTemplate>
                         <asp:Label ID="lblinctype" runat="server" Text='<%# Bind("incidentdesc") %>' ></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncType" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Submitted By">
                     <ItemTemplate>
                         <asp:Label ID="lblCreatorName" runat="server" Text='<%# Bind("creator_name") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="UserName" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Submitted On">
                     <ItemTemplate>
                         <asp:Label ID="lblsubmittedon" runat="server" 
                             Text='<%# Bind("submitted_on") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncDateTime" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="Status">
                     <ItemTemplate>
                         <asp:Label ID="lblstatus" runat="server" Text='<%# Bind("statusdesc") %>'></asp:Label>
                     </ItemTemplate>
                     <ItemStyle CssClass="IncType" />
                 </asp:TemplateField>
                 <asp:TemplateField HeaderText="">
		            <ItemTemplate>
                        <asp:LinkButton ID="lblVIncid" runat="server" Text="Print"
                                CommandArgument='<%#Bind("incident_id") %>' CommandName="Print" title="Click to print view"></asp:LinkButton>
                    </ItemTemplate>
                    <ItemStyle HorizontalAlign="Left" />
		         </asp:TemplateField>
                 <asp:TemplateField HeaderText="StatusCode" Visible="False">
                     <ItemTemplate>
                         <asp:Label ID="lblstatuscode" runat="server" Text='<%# Bind("status") %>'></asp:Label>
                     </ItemTemplate>
                 </asp:TemplateField>
             </Columns>   
             </asp:GridView>
          </div>    
          
     </div>   
</asp:Content>  
